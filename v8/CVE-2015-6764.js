// Credit: Guang Gong of Qihoo 360 via pwn2own 

var array = [];
var funky = {
  toJSON: function() { array.length = 1; return "funky"; }
};
for (var i = 0; i < 10; i++) array[i] = i;
array[0] = funky;
assertEquals('["funky", null, ....', JSON.stringify(array));

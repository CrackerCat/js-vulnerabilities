// Owner: Anonymous
/* 
    Refactor array construction for map, filter

    array methods to have the InnerArray{Map, Filter} methods 
    convert to a GlobalArray rather than the callers.

*/

var typedArray = new Int8Array(1);
var saved;
var called;
typedArray.constructor = function(x) { called = true; saved = x };
typedArray.constructor.prototype = Int8Array.prototype;
typedArray.map(function(){});

// To meet the spec, constructor shouldn't be called dierectly, but
// if it is called for now, the argument should be an Array
assertTrue(called);
assertEquals('Array', saved.constructor.name);
